<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 使用webpack进行es6开发 · 曾洁仪博客</title><meta name="description" content="使用webpack进行es6开发 - Zeng Zoe"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="css/googleapisFonts.css" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/zengjieyi1994" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/ZENGzoe" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li></ul></header><section class="container"><div class="post"><span style="display:none !important;"><span id="busuanzi_container_page_pv">本文总阅读量<span id="busuanzi_value_page_pv"></span></span></span><article class="post-block"><h1 class="post-title">使用webpack进行es6开发</h1><div class="post-time">2016年9月8日</div><div class="post-content"><p>由于很多浏览器不兼容es6，在使用es6开发过程中需要使用转换器对es6进行转换成es5，从而能够更好的在浏览器运行。在这里，我将会介绍如何使用webpack进行es6的开发，使用的是webpack的babel-loader转换器。</p>
<h2 id="第一步-创建目录文件"><a href="#第一步-创建目录文件" class="headerlink" title="第一步 创建目录文件"></a>第一步 创建目录文件</h2><p>创建目录如下：<br><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">/helloworld</span><br><span class="line">    index.js</span><br><span class="line">    hello.js</span><br><span class="line">index.html</span><br><span class="line">webpack<span class="selector-class">.config</span><span class="selector-class">.js</span></span><br></pre></td></tr></table></figure></p>
<p>helloworld文件中，index.js是入口文件，hello.js是用es6编辑的js文件，index.html是首页，webpack.config.js是配置文件。</p>
<h2 id="第二步-安装webpack"><a href="#第二步-安装webpack" class="headerlink" title="第二步 安装webpack"></a>第二步 安装webpack</h2><p>通过<code>npm</code>全局安装<code>webpack</code>：<br><figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> webpack -g</span><br></pre></td></tr></table></figure></p>
<h3 id="第三步-编写配置文件"><a href="#第三步-编写配置文件" class="headerlink" title="第三步 编写配置文件"></a>第三步 编写配置文件</h3><p>打开<code>webpack.config.js</code>，编辑如下：<br><figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">var path = require(<span class="string">'path'</span>);</span><br><span class="line">module.exports = &#123;</span><br><span class="line">    <span class="string">entry :</span> <span class="string">'./helloworld/index.js'</span>,            <span class="comment">//入口文件</span></span><br><span class="line">    <span class="string">output :</span> &#123;                                  <span class="comment">//输出文件</span></span><br><span class="line">        <span class="string">path :</span> __dirname,</span><br><span class="line">        <span class="string">filename :</span> <span class="string">'bundle.js'</span>                 <span class="comment">//webpack运行完之后将生成一个bundle.js文件，用于将执行文件中的代码导入index.html</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">module :</span> &#123;</span><br><span class="line">        <span class="string">loaders :</span> [                             <span class="comment">//加载器</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">test :</span> path.join(__dirname,<span class="string">'es6'</span>),</span><br><span class="line">                <span class="string">loader :</span> <span class="string">'babel-loader'</span>,        <span class="comment">//使用babel-loader加载器</span></span><br><span class="line">                <span class="string">query :</span> &#123;</span><br><span class="line">                    <span class="string">presets :</span> [<span class="string">'es2015'</span>]       <span class="comment">//使用es2015转码规则</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="第四步-安装loaders"><a href="#第四步-安装loaders" class="headerlink" title="第四步 安装loaders"></a>第四步 安装loaders</h2><p>安装<code>babel-loader</code>:<br><figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line">npm <span class="keyword">install </span><span class="keyword">babel-loader </span>--save-dev</span><br></pre></td></tr></table></figure></p>
<p>安装转码规则：<br><figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line">npm <span class="keyword">install </span><span class="keyword">babel-preset-es2015 </span>--save-dev</span><br></pre></td></tr></table></figure></p>
<h2 id="第五步-编写代码"><a href="#第五步-编写代码" class="headerlink" title="第五步 编写代码"></a>第五步 编写代码</h2><ul>
<li>helloworld/hello.js: </li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hello</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name,age)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    say()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`我是<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>,我今年<span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span>岁了`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Hello;</span><br></pre></td></tr></table></figure>
<ul>
<li>helloworld/index.js</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Person <span class="keyword">from</span> <span class="string">'./hello.js'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> Person(<span class="string">'Zoe'</span>,<span class="number">20</span>);</span><br><span class="line"><span class="built_in">document</span>.write(p.say());</span><br></pre></td></tr></table></figure>
<ul>
<li>index.html</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="第六步-运行"><a href="#第六步-运行" class="headerlink" title="第六步 运行"></a>第六步 运行</h2><p>在命令行中，直接输入<code>webpack</code>就能运行：<br><figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">webpack</span></span><br></pre></td></tr></table></figure></p>
<p>在大型项目中，可以添加一个颜色进度跳便于查看参数：<br><figure class="highlight brainfuck"><table><tr><td class="code"><pre><span class="line"><span class="comment">webpack</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">progress</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">colors</span></span><br></pre></td></tr></table></figure></p>
<p>也可以使用watch来监视文件的变化：<br><figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">webpack <span class="comment">--watch</span></span><br></pre></td></tr></table></figure></p>
<p>所以最后可以使用如下命令运行：<br><figure class="highlight brainfuck"><table><tr><td class="code"><pre><span class="line"><span class="comment">webpack</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">progress</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">colors</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">watch</span></span><br></pre></td></tr></table></figure></p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/09/15/讲讲es6那些事/" class="prev">PRVE</a></div><div data-thread-key="2016/09/09/使用webpack进行es6开发/" data-title="使用webpack进行es6开发" data-url="http://zengzoe.github.io/2016/09/09/使用webpack进行es6开发/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"zengzoe"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>© 2016 - 2019 <a href="http://zengzoe.github.io">Zeng Zoe</a>, unless otherwise noted.</p><p style="display:none !important;"><span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span><span id="busuanzi_container_site_uv">本站总访客数<span id="busuanzi_value_site_uv"></span>人次</span></p></div></footer><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>